---
layout: post
title: "Tutorial"
---

In this tutorial weâ€™re going to create a very simple JSON schema and generate it with Plank. This short exercise will give you the foundation to write complex schemas for your app.

### Creating a Schema

Schemas are defined in a JSON document. In this tutorial we'll create the schemas necessary to represent the core `User`, `Board` and `Pin` model objects.


Here is our `User` schema (`user.json`)

{% highlight json %}
{
    "id": "user.json",
    "title": "user",
    "description" : "Schema definition of Pinterest User",
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
		"id" : { "type": "string" },
		"username" : { "type": "string" },
		"first_name" : { "type": "string" },
		"last_name" : { "type": "string" },
		"bio" : { "type": "string" },
		"created_at" : {
			"type": "string",
			"format": "date-time"
		},
		"counts": {
			"type": "object",
			"additionalProperties": { "type": "integer" }
		},
		"image": { "$ref": "image.json" }
	}
}
{% endhighlight %}


Here is our `Board` schema (`board.json`)
{% highlight json %}
{
    "id": "board.json",
    "title": "board",
    "description" : "Schema definition of Pinterest Board",
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
		"id" : { "type": "string" },
		"name" : { "type": "string" },
		"url" : {
			"type": "string",
			"format": "uri"
		},
		"description" : { "type": "string" },
		"creator": {
			"type": "object",
			"additionalProperties": { "type": "string" }
		},
		"created_at" : {
			"type": "string",
			"format": "date-time"
		},
		"counts": {
			"type": "object",
			"additionalProperties": { "type": "integer" }
		},
		"image": { "$ref": "image.json" }
	},
    "required": []
}
{% endhighlight %}

Last but not least, the schema for `Pin` (`pin.json`)

{% highlight json %}
{
    "id": "pin.json",
    "title": "pin",
    "description" : "Schema definition of Pinterest Pin",
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
		"id" : { "type": "string" },
		"link" : {
			"type": "string",
			"format": "uri"
		},
		"url" : {
			"type": "string",
			"format": "uri"
		},
		"creator": {
			"type": "object",
			"additionalProperties": { "$ref": "user.json" }
		},
		"board": { "$ref": "board.json" },
		"created_at" : {
			"type": "string",
			"format": "date-time"
		},
		"note" : { "type": "string" },
		"color" : { "type": "string" },
		"counts": {
			"type": "object",
			"additionalProperties": { "type": "integer" }
		},
		"media": {
			"type": "object",
			"additionalProperties": { "type": "string" }
		},
		"attribution": {
			"type": "object",
			"additionalProperties": { "type": "string" }
		},
		"description" : { "type": "string" },
		"image": { "$ref": "image.json" }
	},
    "required": []
}
{% endhighlight %}

All of our models in the developer.pinterest.com docs mention that the image response will include a URL, width and height. Lets actually create a schema to structure this type.
{% highlight json %}
{
    "id": "image.json",
    "title": "image",
    "description" : "Schema definition of Pinterest image",
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
		"url" : {
			"type": "string",
			"format": "uri"
		},
		"width": { "type": "integer" },
		"height": { "type": "integer" }
	}
}
{% endhighlight %}


### Generate the Model

To generate the models, run this command:

{% highlight shell %}
$ plank pin.json
{% endhighlight %}

The generator will not only generate this class but it will generate its superclass (if defined) and any other class that is referenced by a [JSON Pointer](/plank/2017/02/13/json-schema.html). The classes will be available for you in the current working directory.

## Exercises for the reader

### Property Types

- Explore different property types (integer, number, boolean, URI strings, Datetime strings, arrays, objects)

### References

- Create another schema (another_example_schema.json) and reference it in your original schema with a JSON Pointer

### Collections

- Add collection properties such as objects and arrays and specify their item types. For extra credit, specify the item type as a JSON Pointer (self-referential pointers work as well!).
